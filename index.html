<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deepak AI SMM Panel | Working Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .glass-panel { background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1); }
        .hidden { display: none; }
        .gradient-bg { background: linear-gradient(135deg, #6366f1 0%, #ec4899 100%); }
    </style>
</head>
<body class="bg-slate-900 text-white font-sans">

    <nav class="fixed w-full z-50 glass-panel border-b border-slate-700 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-2 cursor-pointer" onclick="showPage('home')">
            <i class="fa-solid fa-bolt text-indigo-500 text-2xl"></i>
            <span class="font-bold text-xl">Deepak<span class="text-indigo-500">AI</span></span>
        </div>
        <div id="nav-links" class="hidden md:flex gap-6">
            <button onclick="showPage('home')" class="hover:text-indigo-400">Home</button>
            <button id="dash-link" onclick="showPage('dashboard')" class="hidden hover:text-indigo-400">Dashboard</button>
        </div>
        <div id="auth-btns" class="flex gap-4">
            <button onclick="openModal('loginModal')" class="text-sm font-semibold">Log In</button>
            <button onclick="openModal('registerModal')" class="bg-indigo-600 px-4 py-2 rounded-full text-sm font-bold">Register</button>
        </div>
        <div id="user-profile" class="hidden flex items-center gap-4">
            <span id="nav-user-name" class="text-sm font-bold text-indigo-400"></span>
            <button onclick="logout()" class="text-xs bg-red-500/20 text-red-400 px-3 py-1 rounded-lg border border-red-500/50">Logout</button>
        </div>
    </nav>

    <main class="pt-24 px-4">
        
        <div id="home-page" class="page-section text-center py-20">
            <h1 class="text-5xl md:text-7xl font-bold mb-6">Boost Social Media <br><span class="text-indigo-500">Instantly</span></h1>
            <p class="text-slate-400 text-xl mb-10">Sign up today and get $100 Demo Balance to test our services!</p>
            <button onclick="openModal('registerModal')" class="gradient-bg px-10 py-4 rounded-full font-bold text-lg shadow-lg">Start Now - It's Free</button>
        </div>

        <div id="dashboard-page" class="page-section hidden max-w-5xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
                <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700">
                    <p class="text-slate-400">Total Balance</p>
                    <h2 id="balance-display" class="text-3xl font-bold text-green-400">$0.00</h2>
                </div>
                <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700">
                    <p class="text-slate-400">Orders Completed</p>
                    <h2 id="order-count" class="text-3xl font-bold">0</h2>
                </div>
                <div class="gradient-bg p-6 rounded-2xl flex items-center justify-center">
                    <button onclick="document.getElementById('order-section').scrollIntoView()" class="font-bold text-lg">New Order +</button>
                </div>
            </div>

            <div id="order-section" class="bg-slate-800 p-8 rounded-2xl border border-slate-700 mb-10">
                <h3 class="text-2xl font-bold mb-6">Place New Order</h3>
                <div class="grid gap-4">
                    <label>Select Service</label>
                    <select id="service-select" class="bg-slate-900 border border-slate-700 p-3 rounded-xl outline-none">
                        <option value="Instagram Followers" data-price="0.05">Instagram Followers ($0.05 per 1k)</option>
                        <option value="YouTube Subscribers" data-price="2.50">YouTube Subscribers ($2.50 per 1k)</option>
                        <option value="TikTok Likes" data-price="0.02">TikTok Likes ($0.02 per 1k)</option>
                    </select>
                    <label>Link</label>
                    <input id="order-link" type="text" placeholder="https://instagram.com/yourprofile" class="bg-slate-900 border border-slate-700 p-3 rounded-xl outline-none">
                    <label>Quantity</label>
                    <input id="order-qty" type="number" placeholder="Min: 100" class="bg-slate-900 border border-slate-700 p-3 rounded-xl outline-none">
                    <button onclick="handlePlaceOrder()" class="bg-indigo-600 py-4 rounded-xl font-bold mt-4 hover:bg-indigo-500 transition">Confirm Order</button>
                </div>
            </div>

            <div class="bg-slate-800 p-8 rounded-2xl border border-slate-700 overflow-x-auto">
                <h3 class="text-xl font-bold mb-4">My Orders</h3>
                <table class="w-full text-left">
                    <thead>
                        <tr class="text-slate-500 border-b border-slate-700">
                            <th class="py-3">Service</th>
                            <th class="py-3">Qty</th>
                            <th class="py-3">Cost</th>
                            <th class="py-3">Status</th>
                        </tr>
                    </thead>
                    <tbody id="order-history">
                        </tbody>
                </table>
            </div>
        </div>
    </main>

    <div id="loginModal" class="fixed inset-0 bg-black/80 hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-slate-800 p-8 rounded-3xl w-full max-w-md relative">
            <button onclick="closeModal('loginModal')" class="absolute top-4 right-4">✕</button>
            <h2 class="text-2xl font-bold mb-6 text-center">Login</h2>
            <input id="login-email" type="email" placeholder="Email" class="w-full bg-slate-900 p-4 rounded-xl mb-4 border border-slate-700">
            <input id="login-pass" type="password" placeholder="Password" class="w-full bg-slate-900 p-4 rounded-xl mb-6 border border-slate-700">
            <button onclick="processLogin()" class="w-full bg-indigo-600 py-4 rounded-xl font-bold">Login</button>
        </div>
    </div>

    <div id="registerModal" class="fixed inset-0 bg-black/80 hidden z-[100] flex items-center justify-center p-4">
        <div class="bg-slate-800 p-8 rounded-3xl w-full max-w-md relative">
            <button onclick="closeModal('registerModal')" class="absolute top-4 right-4">✕</button>
            <h2 class="text-2xl font-bold mb-6 text-center">Create Account</h2>
            <input id="reg-name" type="text" placeholder="Full Name" class="w-full bg-slate-900 p-4 rounded-xl mb-4 border border-slate-700">
            <input id="reg-email" type="email" placeholder="Email" class="w-full bg-slate-900 p-4 rounded-xl mb-4 border border-slate-700">
            <input id="reg-pass" type="password" placeholder="Password" class="w-full bg-slate-900 p-4 rounded-xl mb-6 border border-slate-700">
            <button onclick="processRegister()" class="w-full gradient-bg py-4 rounded-xl font-bold">Register Now</button>
        </div>
    </div>

    <script>
        // --- CORE LOGIC ---
        let currentUser = JSON.parse(localStorage.getItem('session')) || null;
        let users = JSON.parse(localStorage.getItem('users')) || [];

        // UI Initial Setup
        if(currentUser) updateUI();

        function showPage(pageId) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.add('hidden'));
            document.getElementById(pageId + '-page').classList.remove('hidden');
        }

        function openModal(id) { document.getElementById(id).classList.remove('hidden'); }
        function closeModal(id) { document.getElementById(id).classList.add('hidden'); }

        // REGISTER
        function processRegister() {
            const name = document.getElementById('reg-name').value;
            const email = document.getElementById('reg-email').value;
            const pass = document.getElementById('reg-pass').value;

            if(!name || !email || !pass) return alert("Please fill all fields!");
            
            const newUser = { name, email, pass, balance: 100.00, orders: [] };
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            alert("Registration Successful! Now please login.");
            closeModal('registerModal');
            openModal('loginModal');
        }

        // LOGIN
        function processLogin() {
            const email = document.getElementById('login-email').value;
            const pass = document.getElementById('login-pass').value;

            const user = users.find(u => u.email === email && u.pass === pass);
            if(user) {
                currentUser = user;
                localStorage.setItem('session', JSON.stringify(user));
                updateUI();
                showPage('dashboard');
                closeModal('loginModal');
            } else {
                alert("Invalid Credentials!");
            }
        }

        // LOGOUT
        function logout() {
            localStorage.removeItem('session');
            location.reload();
        }

        // UPDATE UI AFTER LOGIN
        function updateUI() {
            document.getElementById('auth-btns').classList.add('hidden');
            document.getElementById('user-profile').classList.remove('hidden');
            document.getElementById('dash-link').classList.remove('hidden');
            document.getElementById('nav-user-name').innerText = currentUser.name;
            document.getElementById('balance-display').innerText = "$" + currentUser.balance.toFixed(2);
            document.getElementById('order-count').innerText = currentUser.orders.length;
            
            renderOrders();
        }

        // PLACE ORDER
        function handlePlaceOrder() {
            const serviceTag = document.getElementById('service-select');
            const serviceName = serviceTag.value;
            const pricePerK = parseFloat(serviceTag.options[serviceTag.selectedIndex].dataset.price);
            const qty = parseInt(document.getElementById('order-qty').value);
            const link = document.getElementById('order-link').value;

            if(!qty || qty < 100 || !link) return alert("Please enter valid link and quantity (Min 100)");

            const cost = (qty / 1000) * pricePerK;

            if(currentUser.balance >= cost) {
                currentUser.balance -= cost;
                const newOrder = { service: serviceName, qty: qty, cost: cost.toFixed(4), status: 'Pending' };
                currentUser.orders.unshift(newOrder); // Newest first

                // Save to local storage
                localStorage.setItem('session', JSON.stringify(currentUser));
                
                // Update master users list
                const userIdx = users.findIndex(u => u.email === currentUser.email);
                users[userIdx] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));

                updateUI();
                alert("Order Placed Successfully!");
            } else {
                alert("Insufficient Balance! Your current balance is $" + currentUser.balance.toFixed(2));
            }
        }

        function renderOrders() {
            const list = document.getElementById('order-history');
            list.innerHTML = currentUser.orders.map(o => `
                <tr class="border-b border-slate-700 text-sm">
                    <td class="py-4">${o.service}</td>
                    <td>${o.qty}</td>
                    <td>$${o.cost}</td>
                    <td><span class="bg-yellow-500/20 text-yellow-500 px-2 py-1 rounded text-xs">${o.status}</span></td>
                </tr>
            `).join('');
        }
    </script>
</body>
</html>
